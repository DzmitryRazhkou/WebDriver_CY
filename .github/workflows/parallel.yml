name: Cypress WebDriver_Tests
on: [push]
jobs:
  install:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install modules
        uses: npi ci
      - name: Cypress run
        uses: cypress-io/github-action@v3
        with:
          browser: chrome
          headless: true
          start: npm run cy:firefox
          wait-on: http://localhost:5173

        # env:
        #   CYPRESS_RECORD_KEY: ${{ secrets.CYPRESS_RECORD_KEY }}
        #   # Recommended: pass the GitHub token lets this action correctly
        #   # determine the unique run id necessary to re-run the checks
        #   GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

    # container: cypress/browsers:node12.18.3-chrome87-ff82
    # needs: install
    # strategy:
    #   fail-fast: false
    #   matrix:
    #     # run copies of the current job in parallel
    #     containers: [1, 2, 3]
